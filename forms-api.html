---
layout: default
title: "UserFrosting: Forms API"
---
  <div class='alert alert-warning'>This page is still under construction.</div>  
<h1>Forms API</h1>

<p class="lead">
These are pages which accept a GET request and return a prerendered HTML form.  Forms are rendered server-side so that they can be customized for a particular user's context.  For example, the "user" form will render differently if we are creating, versus updating, a user's information.  All form api pages are stored in the <code>forms</code> directory.  Success, error, and warning messages are sent to the <a href="features.html#errors">alert stream</a>, and can be accessed via <code>api/user_alerts.php</code>.
</p>

<div class="panel-group" id="api_forms">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse" data-parent="#api_pages" href="#form_user">
          form_user.php
        </a>
      </h4>
    </div>
    <div id="form_user" class="panel-collapse collapse in">
      <div class="panel-body">
        <p class="lead">
        Loads a customized form/panel for creating, updating, or displaying a user.
        </p>
        <p><strong>Login required: </strong>no</p>
        <p><strong>Securable page: </strong>yes</p>
        <p><strong>GET request</strong></p>
        <table class="table table-bordered">
        <thead><td>Variable name</td><td>Description</td></thead>
        <tbody>
        <tr><td><code>box_id</code></td><td>The desired <code>id</code> of the div that will contain the form.</td></tr>         
        <tr><td><code>render_mode</code></td><td>Render the form as a popup (modal) window, or in a flat panel.  Set to <b>modal</b> or <b>panel</b>.</td></tr> 
        <tr><td><code>[user_id]</code></td><td>If specified, will load the relevant data for the user into the form.  Form will then be in "update" mode.</td></tr>
        <tr><td><code>[show_dates]</code></td><td>If set to <b>true</b>, will show the registered and last signed in date fields (fields will be read-only).</td></tr>
        <tr><td><code>[show_passwords]</code></td><td>If set to <b>true</b>, will display the password creation fields ("create" mode only).</td></tr>
        <tr><td><code>[disabled]</code></td><td>If set to <b>true</b>, disable all fields.  Good if you want to display user data without making it editable.</td></tr>
        <tr><td><code>button_submit</code></td><td>If set to <b>true</b>, display the submission button for this form.</td></tr>        
        <tr><td><code>button_edit</code></td><td>If set to <b>true</b>, display the edit button (panel mode only).</td></tr>        
        <tr><td><code>button_disable</code></td><td>If set to <b>true</b>, display the enable/disable button.</td></tr>        
        <tr><td><code>button_activate</code></td><td>If set to <b>true</b>, display the activate button for inactive users.</td></tr>        
        <tr><td><code>button_delete</code></td><td>If set to <b>true</b>, display the deletion button for deletable users.</td></tr>                
        </tbody>
        </table>
        <p><strong>GET response</strong></p>
        <p>A JSON object containing the following fields:</p>
        <table class="table table-bordered">
        <thead><td>Variable name</td><td>Description</td></thead>
        <tbody>
        <tr><td><code>data</code></td><td>The fully rendered HTML for the form/panel.</td></tr>
        </tbody>
        </table>    
        <p><strong>Possible alerts generated</strong></p>
        <ul class="list-group">
            <li class="list-group-item"><code>SQL_ERROR</code> : Database error.</li>
            <li class="list-group-item">Authorization failed</li>            
        </ul>
      </div>
    </div>
  </div>
  
</div>

