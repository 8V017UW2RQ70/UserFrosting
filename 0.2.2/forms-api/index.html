---
layout: v022
title: "UserFrosting: Forms API"
---
  <div class='alert alert-info'>This page is incomplete.</div>  
<h1>Forms API</h1>

<p class="lead">
These are pages which accept a GET request and return a prerendered HTML form.  Forms are rendered server-side so that they can be customized for a particular user's context.  For example, the "user" form will render differently if we are creating, versus updating, a user's information.  All form api pages are stored in the <code>forms</code> directory.  Success, error, and warning messages are sent to the <a href="{{site.url}}/0.2.2/features.html#errors">alert stream</a>, and can be accessed via <code>api/user_alerts.php</code>.
</p>

<div class="panel-group" id="api_forms">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse" data-parent="#api_pages" href="#form_user">
          form_user.php
        </a>
      </h4>
    </div>
    <div id="form_user" class="panel-collapse collapse in">
      <div class="panel-body">
        <p class="lead">
        Loads a customized form/panel for creating, updating, or displaying a user.
        </p>
        <p><strong>Login required: </strong>no</p>
        <p><strong>Securable page: </strong>yes</p>
        <p><strong>GET request</strong></p>
        <table class="table table-bordered">
        <thead><td>Variable name</td><td>Description</td></thead>
        <tbody>
        <tr><td><code>box_id</code></td><td>The desired <code>id</code> of the div that will contain the form.</td></tr>         
        <tr><td><code>render_mode</code></td><td>Render the form as a popup (modal) window, or in a flat panel.  Set to <b>modal</b> or <b>panel</b>.</td></tr> 
        <tr><td><code>[user_id]</code></td><td>If specified, will load the relevant data for the user into the form.  Used for viewing/updating a user.</td></tr>
        <tr><td><code>[fields]</code></td><td>A list of fields to render.  If not specified, the following fields will be rendered by default:
          <ul>
          <li>user_name</li>
          <li>display_name</li>
          <li>email</li>
          <li>title</li>
          <li>sign_up_stamp</li>
          <li>last_sign_in_stamp</li>
          <li>groups</li>
          </ul>
          By default, they will all be read-only fields.
        </td></tr>
        <tr><td><code>[buttons]</code></td><td>A list of buttons to render.  If not specified, the following fields will be rendered by default:
          <ul>
          <li>btn_edit</li>
          <li>btn_activate (inactive users only)</li>
          <li>btn_enable (disabled users only)</li>
          <li>btn_disable (enabled users only)</li>
          <li>btn_delete</li>
          </ul>
        </td></tr>
        </tbody>
        </table>
        <p><strong>GET response</strong></p>
        <p>A JSON object containing the following fields:</p>
        <table class="table table-bordered">
        <thead><td>Variable name</td><td>Description</td></thead>
        <tbody>
        <tr><td><code>data</code></td><td>The fully rendered HTML for the form/panel.</td></tr>
        </tbody>
        </table>    
        <p><strong>Possible alerts generated</strong></p>
        <ul class="list-group">
            <li class="list-group-item"><code>SQL_ERROR</code> : Database error.</li>
            <li class="list-group-item">Authorization failed</li>            
        </ul>
      </div>
    </div>
  </div>
  
</div>

